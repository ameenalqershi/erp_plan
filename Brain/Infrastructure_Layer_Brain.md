# ๐ง ุงูุตูุฑุฉ ุงูุฐูููุฉ ุงููุงููุฉ (ุงูุนูููุฉ ูุงูููุตูุฉ ูุฃูุตู ูุฏู) ูุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure Layer) ูู ูุดุฑูุน ERP-Pro

---

## 0. **ุงููุตุฏุฑ ุงูุฃุณุงุณู ูุงูููุงุฆู ูุจูุงุก ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ**

- [ุฌููุน ุฑูุงุจุท ูุฎุทุทุงุช ุงููุดุฑูุน ERP-Pro](https://github.com/ameenalqershi/erp_plan)
  - ูููุงุช ุฅุนุฏุงุฏุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ (ORM, Database, Messaging, External APIs, File Storage, ...)
  - ูููุงุช ูููููุฉ ุงููInfrastructure ูุชูุฒูุน ุงููุฌูุฏุงุช ูุงูุฎุฏูุงุช
  - ูููุงุช ุงููDependency Injection ูุชููุฆุฉ ุงููServices
  - ูููุงุช ุงูุฃูู ูุงูุฑุจุท ุจุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ
  - ูููุงุช ุงููMigrations
  - ูููุงุช ุงูุชุนุงูู ูุน ุงููDomain Events (Outbox/Inbox, EventBus)

---

## 1. **ูุจุงุฏุฆ ุญุงููุฉ ุนุธูู ูุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ**

- ุงูุจููุฉ ุงูุชุญุชูุฉ ูู ุงููุณุคููุฉ ุนู **ุชูููุฑ ูุชูููุฐ ูู ูุง ูู ุฎุงุฑุฌู ุนู ููุทู ุงูุฃุนูุงู**: ููุงุนุฏ ุงูุจูุงูุงุชุ ุงูุฑุจุท ุงูุฎุงุฑุฌูุ ุงููููุงุชุ ุงูุฑุณุงุฆูุ ุงูุจุฑูุฏุ SMSุ ูููุฉ ุงููุณุชุฎุฏูุ ุงููCacheุ ุฅูุฎ.
- ูู ููุฏ ููุง ูุฌุจ ุฃู ูููุฐ ููุท ุงูุฎุฏูุงุช ุนุจุฑ ุงููAbstractions ุงูููุฌูุฏุฉ ูู Application/Domain.
- ูุฌุจ ุฃู ุชุชุจุน ูุจุฏุฃ Dependency Inversion:  
  - ุงูุชุทุจูู ูุงูุฏูููู ูุง ูุนุฑูุงู ุชูุงุตูู ุงูุชูููุฐ ููุงุ ุจู ููุท ุงููInterfaces.
- ูููุน ููุนุง ุจุงุชุง ูุถุน ุฃู ููุทู ุฃุนูุงู ููุง.
- ูููุน ููุนุง ุจุงุชุง ุงุณุชุฏุนุงุก ุฃู ููุฏ ูู ุงูุทุจูุงุช ุงูุฃุนูู (Application/Domain) ุฅูุง ุนุจุฑ ุงููInterfaces.
- ูุฌุจ ุฃู ุชููู ูู ุฎุฏูุฉ ูุงุจูุฉ ููุงุฎุชุจุงุฑ (Testable) ููุงุจูุฉ ููุงุณุชุจุฏุงู (Swappable).
- ูู ุฅุนุฏุงุฏ ุฃู ุณุฑ (Connection String, API Key, ...) ูุฌุจ ุฃู ูุฏุงุฑ ูู ุฅุนุฏุงุฏุงุช ูุดูุฑุฉ (Configuration/Secrets).

---

## 2. **ูููููุฉ ุงููุฌูุฏุงุช ูุงููููุงุช ุจุงูุชูุตูู**

### Infrastructure Root
- **Persistence**
  - DbContext (EF Core ุฃู ูุง ูุนุงุฏูู)
  - Migrations
  - Repositories (ุชูููุฐ IRepository ููู ููุงู)
  - Seeders (ุจูุงูุงุช ุฃูููุฉ)
  - TransactionManager/UnitOfWork
- **Identity**
  - UserStore, RoleStore, Claims, JWT, OAuth, SSO, PasswordHasher, ...  
    - ูู ูุง ูุฎุต ุงููุตุงุฏูุฉ ูุงูุตูุงุญูุงุช
- **Messaging**
  - EventBus, Outbox/Inbox, RabbitMQ/Kafka/ServiceBus
  - IntegrationEvents (ุชูููุฐ ุฅุฑุณุงู/ุงุณุชูุจุงู)
- **FileStorage**
  - LocalFileStorage, CloudStorage (S3, Azure, ...)
- **Notification**
  - EmailSender, SmsSender, PushNotification
- **Configuration**
  - AppSettings, Secrets, KeyVault, ...  
    - ูู ุงูุฅุนุฏุงุฏุงุช ุงูุณุฑูุฉ
- **Integration**
  - ExternalApis (ERPLink, Tax, Payment, ...), Webhooks, Adapters
- **Cache**
  - Redis, MemoryCache, DistributedCache
- **DI (DependencyInjection)**
  - RegisterInfrastructureServices (ุฌููุน ุงูุฎุฏูุงุช ูุงูุฅุนุฏุงุฏุงุช)

---

## 3. **ุฏูุฑ ูู ููู/ูุฌูุฏ ูุนูุงูุชู ุจุจููุฉ ุงูุทุจูุงุช (ุชูุตูู ุดุฏูุฏ)**

- **Persistence:**  
  - ูููุฐ DbContext ุญุณุจ ุงูุฌุฏุงูู ูู ุงูุฏูููู.
  - ูุฏูุฑ ุงููMigrations ุจุฏูุฉ.
  - ูููุฐ ูู Repository Interface ูู Application/Domain.
  - ูุง ูุถูู ุฃู ููุฏ ุฃุนูุงูุ ููุท CRUD/Queries.
  - ูุฏูุฑ ุงููTransactions ูUnitOfWork.
- **Identity:**  
  - ูููุฐ ICurrentUserService ููุงุฌูุงุช ุงููุตุงุฏูุฉ ูุงูุชูููุถ.
  - ูุฏูุฑ JWT/OAuth/SSO/API Keys ุญุณุจ ุงููุฎุทุท.
- **Messaging:**  
  - ูููุฐ EventBus/Outbox/Inbox ููุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุนุจุฑ ุงูุฃูุธูุฉ.
  - ููุชูุท DomainEvents ูู ุงูุฏูููู ููุฑุณููุง ูููBus.
- **FileStorage:**  
  - ูููุฐ IFileStorage ููู ูุตุฏุฑ (ูุญูู/ุณุญุงุจู).
- **Notification:**  
  - ูููุฐ IEmailSenderุ ISmsSenderุ ุฅูุฎ.
- **Integration:**  
  - ูููุฐ ุงูุฑุจุท ูุน ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ ุนุจุฑ Abstractions ููุท.
- **Configuration:**  
  - ูุฏูุฑ ูู ุงูุฅุนุฏุงุฏุงุช ูุงูุณุฑูุฉ.
- **Cache:**  
  - ูููุฐ ICacheService ูุฃู ููุน Cache.
- **DI:**  
  - ูุณุฌูู ุฌููุน ุงูุฎุฏูุงุช ูููDI Container.

---

## 4. **ุฎุทูุงุช ุงูุชูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ**

1. ููู ุฎุฏูุฉ ุฃู ุชูููุฉ ุฎุงุฑุฌูุฉุ ุงุจุฏุฃ ุจุชุนุฑูู Interface/Abstraction ูู Application/Domain.
2. ููุฐ ุงููImplementation ููุง ูู Infrastructure.
3. ุงุฑุจุท ูู Implementation ุจุงููDI Container.
4. ุฑุงุนู ุงููุตู ุงูุชุงู ุจูู ุงูุชูููุฐ ูุงููุงุฌูุฉ.
5. ูุง ุชูุชุจ ุฃู ููุทู ุฃุนูุงู ุฃู Validation ููุง.
6. ุงุฎุชุจุฑ ูู ุฎุฏูุฉ ูููุตูุฉ (Unit Test/Integration Test).
7. ุฃุฏุฎู ูู ุฅุนุฏุงุฏ ูู Configuration/Secrets.
8. ุญุฏุซ Migrations ุนูุฏ ูู ุชุนุฏูู ูู ุงูุฏูููู.
9. ูุง ุชุฎุฑุฌ ุนู ุฃู ูุงุนุฏุฉ ุฃู ุจููุฉ ุฏูู ุชุญุฏูุซ ุงูุตูุฑุฉ ุงูุฐูููุฉ ุฃููุง.

---

## 5. **ุชุนูููุงุช ุตุงุฑูุฉ ูุงุณุชุฎุฏุงู ุงูุตูุฑุฉ ุงูุฐูููุฉ**

- ูุง ุชูุชุจ ุฃู ููุฏ ุชูููุฐ ุฅูุง ููุง ูู ูุนุฑู ููInterface ูู ุงูุทุจูุงุช ุงูุนููุง.
- ูุง ุชูุชุจ ุฃู ููุทู ุฃุนูุงู ุฃู Validation ุฃู Mapping ููุง.
- ูุง ุชุถุน ุฃู ุจูุงูุงุช ุณุฑูุฉ ูู ุงูููุฏ ูุจุงุดุฑุฉ.
- ูุง ุชูุฑุฑ ุงูููุฏ ุฃู ุชุฑุจุท ุงูุฎุฏูุงุช ุจุจุนุถูุง ุฅูุง ุนุจุฑ DI.
- ุงุฎุชุจุฑ ูู ุฎุฏูุฉ ุนูู ุญุฏุฉ.

---

## 6. **ุฑูุงุจุท ุงููุฎุทุทุงุช ุงูุฃุณุงุณูุฉ ููุฐุง ุงูุชุญููู (ูููุฑุงุฌุนุฉ ุงูุณุฑูุนุฉ):**

- [ูููููุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ](https://github.com/ameenalqershi/erp_plan/blob/main/Structure/LayerStructure_Infrastructure.md)
- [ูููุงุช ุงูุฅุนุฏุงุฏ ูุงูุฑุจุท](https://github.com/ameenalqershi/erp_plan/tree/main/Infrastructure)
- [ุชุญููู ุงูุฌุฏุงูู ูุงููุนุทูุงุช](https://github.com/ameenalqershi/erp_plan/blob/main/ุชุญููู_ุฌุฏุงูู_ERP_ูุงูุนู_ููุณุน.md)
- [ูููุงุช ุงููIntegration](https://github.com/ameenalqershi/erp_plan/tree/main/Integrations)

---

**ูุฐู ุงูุตูุฑุฉ ุงูุฐูููุฉ ูุฑุฌุน ููุงุฆู ูุจูุงุก ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉุ ููุง ูุฌูุฒ ุงูุฎุฑูุฌ ุนููุง ุฅูุง ุจุชุญุฏูุซูุง ุฑุณููุง ูู ุงููุณุชุฎุฏู ุฃู ุจุชุนุฏูู ุงููุฎุทุทุงุช.**